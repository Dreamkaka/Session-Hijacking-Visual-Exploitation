const fs = require('fs');
const readlineSync = require('readline-sync');

const attackerPort = process.argv[2] || readlineSync.question('Enter port for attackerServer (default: 3000): ') || 3000;
const victimPort = process.argv[3] || readlineSync.question('Enter port for victimServer (default: 8000): ') || 8000;
const proxyPort = process.argv[4] || readlineSync.question('Enter port for proxyServer (default: 8080): ') || 8080;
const sslEnabled = process.argv[5] || readlineSync.question('Enable SSL? (true/false, default: false): ') || 'false';

const config = {
  attackerServerPort: parseInt(attackerPort),
  victimServerPort: parseInt(victimPort),
  proxyServerPort: parseInt(proxyPort),
  sslEnabled: sslEnabled.toLowerCase() === 'true'
};

fs.writeFile('files/config.json', JSON.stringify(config, null, 2), (err) => {
  if (err) throw err;
  console.log('Configuration saved successfully!');
});
